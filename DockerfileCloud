FROM ubuntu:19.10

RUN apt-get update && \
	apt install -y \
	apt-utils \
	libzip-dev \
	nano \
	php7.3-zip \
	wget

RUN wget http://phoronix-test-suite.com/releases/repo/pts.debian/files/phoronix-test-suite_9.6.0_all.deb && \
	dpkg -i phoronix-test-suite_9.6.0_all.deb || true && \
	apt-get -f install -y && \
	dpkg -i phoronix-test-suite_9.6.0_all.deb

RUN phoronix-test-suite install pts/sqlite \
                                pts/redis \
                                pts/cassandra \
                                pts/apache \
                                pts/nginx \
                                pts/blogbench

COPY cloud/suite-definition.xml /var/lib/phoronix-test-suite/test-suites/local/cloud/suite-definition.xml